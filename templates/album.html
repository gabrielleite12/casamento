<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>√Ålbum de Fotos e V√≠deos</title>
  <style>
    body {
      background-color: #f9f6ff;
      font-family: 'Segoe UI', sans-serif;
      padding: 20px;
      text-align: center;
    }

    h2 {
      color: #6a1b9a;
    }

    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .gallery-item {
      position: relative;
      cursor: pointer;
    }

    .gallery img,
    .gallery video {
      width: 100%;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.15);
      transition: transform 0.3s;
    }

    .gallery img:hover,
    .gallery video:hover {
      transform: scale(1.05);
    }

    .fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .fullscreen img,
    .fullscreen video {
      max-width: 90vw;
      max-height: 90vh;
      border-radius: 10px;
    }

    .fullscreen:after {
      content: '‚úñ';
      position: absolute;
      top: 15px;
      right: 25px;
      font-size: 2rem;
      color: white;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>üì∏ √Ålbum de Fotos e V√≠deos</h2>

  {% if arquivos %}
  <div class="gallery">
    {% for arq in arquivos %}
      <div class="gallery-item" onclick="abrirFullscreen('{{ arq.link }}', '{{ arq.tipo }}')">
        {% if arq.tipo == 'imagem' %}
          <img src="{{ arq.link }}" alt="Foto">
        {% else %}
          <video src="{{ arq.link }}" muted></video>
        {% endif %}
      </div>
    {% endfor %}
  </div>
  {% else %}
    <p>üíî Nenhuma imagem ou v√≠deo dispon√≠vel ainda.</p>
  {% endif %}

  <div id="fullscreen" class="fullscreen" onclick="fecharFullscreen()">
    <img id="fullscreen-img" style="display: none;" />
    <video id="fullscreen-video" style="display: none;" controls autoplay></video>
  </div>

  <script>
    function abrirFullscreen(link, tipo) {
      const fullscreen = document.getElementById('fullscreen');
      const img = document.getElementById('fullscreen-img');
      const vid = document.getElementById('fullscreen-video');

      fullscreen.style.display = 'flex';

      if (tipo === 'imagem') {
        img.src = link;
        img.style.display = 'block';
        vid.style.display = 'none';
      } else {
        vid.src = link;
        vid.style.display = 'block';
        img.style.display = 'none';
      }
    }

    function fecharFullscreen() {
      const fullscreen = document.getElementById('fullscreen');
      fullscreen.style.display = 'none';
      document.getElementById('fullscreen-img').src = '';
      document.getElementById('fullscreen-video').pause();
      document.getElementById('fullscreen-video').src = '';
    }
  </script>
</body>
</html>
